!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("Clappr")):"function"==typeof define&&define.amd?define(["Clappr"],e):"object"==typeof exports?exports.ClapprMarkersPlugin=e(require("Clappr")):t.ClapprMarkersPlugin=e(t.Clappr)}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(1);n(23);var u=n(2),c=r(u),f=n(3),p=r(f),d=n(20),h=r(d),m=function(t){function e(t){o(this,e);var n=i(this,Object.getPrototypeOf(e).call(this,t));return n._markers=[],n._createInitialMarkers(),n}return a(e,t),s(e,[{key:"name",get:function(){return"markers-plugin"}},{key:"attributes",get:function(){return{"class":this.name}}}],[{key:"Marker",get:function(){return c["default"]}},{key:"StandardMarker",get:function(){return p["default"]}},{key:"ImageMarker",get:function(){return h["default"]}},{key:"default",get:function(){return e}}]),s(e,[{key:"bindEvents",value:function(){this.listenTo(this.core.mediaControl,l.Events.MEDIACONTROL_RENDERED,this._onMediaControlRendered),this.listenTo(this.core.mediaControl,l.Events.MEDIACONTROL_CONTAINERCHANGED,this._onMediaControlContainerChanged)}},{key:"addMarker",value:function(t){var e=this._buildInternalMarker(t);this._markers.push(e),this._createMarkerEl(e),this._renderMarkers()}},{key:"removeMarker",value:function(t){var e=null,n=0;return this._markers.some(function(r){return r.source===t?(e=r,!0):(n++,!1)}),!!e&&(e.$marker.remove(),e.emitter.off("timeChanged",e.timeChangedHandler),e.$tooltipContainer&&e.$tooltipContainer.remove(),e.tooltipChangedHandler&&e.emitter.off("tooltipChanged",e.tooltipChangedHandler),e.onDestroy(),!0)}},{key:"_bindContainerEvents",value:function(){this._oldContainer&&(this.stopListening(this._oldContainer,l.Events.CONTAINER_TIMEUPDATE,this._onTimeUpdate),this.stopListening(this._oldContainer,l.Events.CONTAINER_MEDIACONTROL_SHOW,this._onMediaControlShow)),this._oldContainer=this.core.mediaControl.container,this.listenTo(this.core.mediaControl.container,l.Events.CONTAINER_TIMEUPDATE,this._onTimeUpdate),this.listenTo(this.core.mediaControl.container,l.Events.CONTAINER_MEDIACONTROL_SHOW,this._onMediaControlShow)}},{key:"_getOptions",value:function(){if(!("markersPlugin"in this.core.options))throw"'markersPlugin' property missing from options object.";return this.core.options.markersPlugin}},{key:"_buildInternalMarker",value:function(t){var e=t.getTooltipEl();return e&&(e=(0,l.$)(e)),{source:t,emitter:t.getEmitter(),$marker:(0,l.$)(t.getMarkerEl()),markerLeft:null,$tooltip:e,$tooltipContainer:null,tooltipContainerLeft:null,tooltipContainerBottom:null,tooltipChangedHandler:null,time:t.getTime(),timeChangedHandler:null,onDestroy:t.onDestroy}}},{key:"_createInitialMarkers",value:function(){var t=this,e=this._getOptions().markers;e&&(this._markers=[],e.forEach(function(e){t._markers.push(t._buildInternalMarker(e))}),this._markers.forEach(function(e){t._createMarkerEl(e)}),this._renderMarkers())}},{key:"_createMarkerEl",value:function(t){var e=this,n=t.$marker;t.timeChangedHandler=function(){e._updateMarkerTime(t)},t.emitter.on("timeChanged",t.timeChangedHandler),n.click(function(n){e.core.mediaControl.container.seek(t.time),n.preventDefault(),n.stopImmediatePropagation()}),this._$markers.append(n);var r=t.$tooltip;if(r){var o=(0,l.$)("<div />").addClass("tooltip-container");t.$tooltipContainer=o,o.append(r),this._$tooltips.append(o),t.tooltipChangedHandler=function(){e._updateTooltipPosition(t)},t.emitter.on("tooltipChanged",t.tooltipChangedHandler),this._updateTooltipPosition(t)}}},{key:"_updateMarkerTime",value:function(t){t.time=t.source.getTime(),this._renderMarkers()}},{key:"_updateTooltipPosition",value:function(t){if(this._mediaControlContainerLoaded){var e=t.$tooltipContainer;if(e){var n=this._getOptions().tooltipBottomMargin||17,r=e.width(),o=this._$tooltips.width(),i=this.core.mediaControl.container.getDuration(),a=o*(t.time/i)-r/2;a=Math.max(0,Math.min(a,o-r)),n===t.tooltipContainerBottom&&a===t.tooltipContainerLeft||(e.css({bottom:n+"px",left:a+"px"}),t.tooltipContainerBottom=n,t.tooltipContainerLeft=a)}}}},{key:"_onMediaControlRendered",value:function(){this._appendElToMediaControl()}},{key:"_onMediaControlContainerChanged",value:function(){this._bindContainerEvents(),this._mediaControlContainerLoaded=!0,this._renderMarkers()}},{key:"_onTimeUpdate",value:function(){this._renderMarkers()}},{key:"_onMediaControlShow",value:function(){this._renderMarkers()}},{key:"_renderMarkers",value:function(){var t=this;if(this._mediaControlContainerLoaded){var e=this.core.mediaControl.container.getDuration();this._markers.forEach(function(n){var r=n.$marker,o=Math.min(Math.max(n.time/e*100,0),100);n.markerLeft!==o&&(r.css("left",o+"%"),n.markerLeft=o),t._updateTooltipPosition(n)})}}},{key:"_appendElToMediaControl",value:function(){this.core.mediaControl.$el.find(".bar-container").first().append(this.el)}},{key:"render",value:function(){this._$markers=(0,l.$)("<div />").addClass("markers-plugin-markers"),this._$tooltips=(0,l.$)("<div />").addClass("markers-plugin-tooltips");var t=(0,l.$)(this.el);return t.append(this._$markers),t.append(this._$tooltips),this._appendElToMediaControl(),this}},{key:"destroy",value:function(){this._markers.forEach(function(t){t.tooltipChangedHandler&&(t.emitter.off("timeChanged",t.timeChangedHandler),t.emitter.off("tooltipChanged",t.tooltipChangedHandler)),t.onDestroy()})}}]),e}(l.UICorePlugin);e["default"]=m,t.exports=e["default"]},function(e,n){e.exports=t},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(19),s=r(a),l=function(){function t(){o(this,t),this._emitter=new s["default"]({})}return i(t,[{key:"getEmitter",value:function(){return this._emitter}},{key:"notifyTimeChanged",value:function(){this._emitter.emit("timeChanged")}},{key:"notifyTooltipChanged",value:function(){this._emitter.emit("tooltipChanged")}},{key:"getTime",value:function(){throw"Not implemented!"}},{key:"getMarkerEl",value:function(){throw"Not implemented!"}},{key:"getTooltipEl",value:function(){throw"Not implemented!"}},{key:"onDestroy",value:function(){}}]),t}();e["default"]=l,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(1),u=n(2),c=r(u),f=function(t){function e(t,n){o(this,e);var r=i(this,Object.getPrototypeOf(e).call(this));return r._time=t,r._tooltipText=n||null,r._$marker=r._buildMarkerEl(),r._$tooltip=r._buildTooltipEl(),r._addListeners(),r}return a(e,t),s(e,[{key:"getTime",value:function(){return this._time}},{key:"setTime",value:function(t){this._time=t,this.notifyTimeChanged()}},{key:"getMarkerEl",value:function(){return this._$marker}},{key:"getTooltipEl",value:function(){return this._$tooltip}},{key:"_buildMarkerEl",value:function(){var t=(0,l.$)("<div />").addClass("standard-marker");return t.append((0,l.$)("<div />").addClass("standard-marker-inner")),t}},{key:"_buildTooltipEl",value:function(){return this._tooltipText?(0,l.$)("<div />").addClass("standard-tooltip").text(this._tooltipText):null}},{key:"_addListeners",value:function(){var t=this;if(this._$tooltip){var e=this._$marker,n=!1;e.bind("mouseover",function(){n||(n=!0,t._$tooltip.attr("data-show","1"),t.notifyTooltipChanged())}),e.bind("mouseout",function(){n&&(n=!1,t._$tooltip.attr("data-show","0"))})}}}]),e}(c["default"]);e["default"]=f,t.exports=e["default"]},function(t,e){"use strict";t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e,n){"use strict";var r,o=n(6),i=n(13),a=n(9),s=n(16);r=t.exports=function(t,e){var n,r,a,l,u;return arguments.length<2||"string"!=typeof t?(l=e,e=t,t=null):l=arguments[2],null==t?(n=a=!0,r=!1):(n=s.call(t,"c"),r=s.call(t,"e"),a=s.call(t,"w")),u={value:e,configurable:n,enumerable:r,writable:a},l?o(i(l),u):u},r.gs=function(t,e,n){var r,l,u,c;return"string"!=typeof t?(u=n,n=e,e=t,t=null):u=arguments[3],null==e?e=void 0:a(e)?null==n?n=void 0:a(n)||(u=n,n=void 0):(u=e,e=n=void 0),null==t?(r=!0,l=!1):(r=s.call(t,"c"),l=s.call(t,"e")),c={get:e,set:n,configurable:r,enumerable:l},u?o(i(u),c):c}},function(t,e,n){"use strict";t.exports=n(7)()?Object.assign:n(8)},function(t,e){"use strict";t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(t={foo:"raz"},e(t,{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},function(t,e,n){"use strict";var r=n(10),o=n(15),i=Math.max;t.exports=function(t,e){var n,a,s,l=i(arguments.length,2);for(t=Object(o(t)),s=function(r){try{t[r]=e[r]}catch(o){n||(n=o)}},a=1;a<l;++a)e=arguments[a],r(e).forEach(s);if(void 0!==n)throw n;return t}},function(t,e){"use strict";t.exports=function(t){return"function"==typeof t}},function(t,e,n){"use strict";t.exports=n(11)()?Object.keys:n(12)},function(t,e){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},function(t,e){"use strict";var n=Object.keys;t.exports=function(t){return n(null==t?t:Object(t))}},function(t,e){"use strict";var n=Array.prototype.forEach,r=Object.create,o=function(t,e){var n;for(n in t)e[n]=t[n]};t.exports=function(t){var e=r(null);return n.call(arguments,function(t){null!=t&&o(Object(t),e)}),e}},function(t,e){"use strict";t.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},function(t,e){"use strict";t.exports=function(t){if(null==t)throw new TypeError("Cannot use null or undefined");return t}},function(t,e,n){"use strict";t.exports=n(17)()?String.prototype.contains:n(18)},function(t,e){"use strict";var n="razdwatrzy";t.exports=function(){return"function"==typeof n.contains&&(n.contains("dwa")===!0&&n.contains("foo")===!1)}},function(t,e){"use strict";var n=String.prototype.indexOf;t.exports=function(t){return n.call(this,t,arguments[1])>-1}},function(t,e,n){"use strict";var r,o,i,a,s,l,u,c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},f=n(5),p=n(14),d=Function.prototype.apply,h=Function.prototype.call,m=Object.create,v=Object.defineProperty,_=Object.defineProperties,y=Object.prototype.hasOwnProperty,g={configurable:!0,enumerable:!1,writable:!0};r=function(t,e){var n;return p(e),y.call(this,"__ee__")?n=this.__ee__:(n=g.value=m(null),v(this,"__ee__",g),g.value=null),n[t]?"object"===c(n[t])?n[t].push(e):n[t]=[n[t],e]:n[t]=e,this},o=function(t,e){var n,o;return p(e),o=this,r.call(this,t,n=function(){i.call(o,t,n),d.call(e,this,arguments)}),n.__eeOnceListener__=e,this},i=function(t,e){var n,r,o,i;if(p(e),!y.call(this,"__ee__"))return this;if(n=this.__ee__,!n[t])return this;if(r=n[t],"object"===("undefined"==typeof r?"undefined":c(r)))for(i=0;o=r[i];++i)o!==e&&o.__eeOnceListener__!==e||(2===r.length?n[t]=r[i?0:1]:r.splice(i,1));else r!==e&&r.__eeOnceListener__!==e||delete n[t];return this},a=function(t){var e,n,r,o,i;if(y.call(this,"__ee__")&&(o=this.__ee__[t]))if("object"===("undefined"==typeof o?"undefined":c(o))){for(n=arguments.length,i=new Array(n-1),e=1;e<n;++e)i[e-1]=arguments[e];for(o=o.slice(),e=0;r=o[e];++e)d.call(r,this,i)}else switch(arguments.length){case 1:h.call(o,this);break;case 2:h.call(o,this,arguments[1]);break;case 3:h.call(o,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,i=new Array(n-1),e=1;e<n;++e)i[e-1]=arguments[e];d.call(o,this,i)}},s={on:r,once:o,off:i,emit:a},l={on:f(r),once:f(o),off:f(i),emit:f(a)},u=_({},l),t.exports=e=function(t){return null==t?m(u):_(Object(t),l)},e.methods=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(1),u=n(3),c=r(u),f=function(t){function e(t,n,r,a){o(this,e);var s=i(this,Object.getPrototypeOf(e).call(this,t,n));return s._tooltipText=n||null,s._width=r||200,s._height=a||"auto",s._$marker=s._buildMarkerEl(),s._$tooltip=s._buildTooltipEl(),s._addListeners(),s}return a(e,t),s(e,[{key:"_buildTooltipEl",value:function(){if(!this._tooltipText)return null;var t=(0,l.$)("<img />").attr("src",this._tooltipText).css({width:this._width,height:this._height});return t.one("load",this.notifyTooltipChanged.bind(this)),(0,l.$)("<div />").addClass("standard-tooltip").append(t)}},{key:"_addListeners",value:function(){var t=this;if(this._$tooltip){var e=this._$marker,n=!1;e.bind("mouseover",function(){n||(n=!0,t._$tooltip.attr("data-show","1"),t.notifyTooltipChanged())}),e.bind("mouseout",function(){n&&(n=!1,t._$tooltip.attr("data-show","0"))})}}}]),e}(c["default"]);e["default"]=f,t.exports=e["default"]},function(t,e,n){e=t.exports=n(4)(),e.push([t.id,'.markers-plugin{pointer-events:none}.markers-plugin .markers-plugin-markers{overflow:hidden;position:absolute;top:0;bottom:0;left:0;right:0}.markers-plugin .markers-plugin-markers>*{pointer-events:auto}.markers-plugin .markers-plugin-markers .standard-marker{position:absolute;-webkit-transform:translateX(-50%);transform:translateX(-50%);top:2px;left:0;width:20px;height:20px}.markers-plugin .markers-plugin-markers .standard-marker .standard-marker-inner{position:absolute;left:7.5px;top:7.5px;width:5px;height:5px;border-radius:2.5px;box-shadow:0 0 0 3px hsla(0,0%,78%,.2);background-color:#c8c8c8}.markers-plugin .markers-plugin-markers .standard-marker:hover{cursor:pointer}.markers-plugin .markers-plugin-markers .standard-marker:hover .standard-marker-inner{left:6px;top:6px;width:8px;height:8px;border-radius:4px;box-shadow:0 0 0 6px hsla(0,0%,100%,.2);background-color:#fff}.markers-plugin .markers-plugin-tooltips{position:relative;height:0}.markers-plugin .markers-plugin-tooltips .tooltip-container{position:absolute;white-space:nowrap;line-height:normal}.markers-plugin .markers-plugin-tooltips .tooltip-container>*{pointer-events:auto}.markers-plugin .markers-plugin-tooltips .tooltip-container .standard-tooltip{display:none;background-color:rgba(2,2,2,.5);color:#fff;font-size:10px;padding:4px 7px;line-height:normal}.markers-plugin .markers-plugin-tooltips .tooltip-container .standard-tooltip[data-show="1"]{display:inline-block}',""])},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=d[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(u(r.parts[i],e))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(u(r.parts[i],e));d[r.id]={id:r.id,refs:1,parts:a}}}}function o(t){for(var e=[],n={},r=0;r<t.length;r++){var o=t[r],i=o[0],a=o[1],s=o[2],l=o[3],u={css:a,media:s,sourceMap:l};n[i]?n[i].parts.push(u):e.push(n[i]={id:i,parts:[u]})}return e}function i(t,e){var n=v(),r=g[g.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),g.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=g.indexOf(t);e>=0&&g.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",i(t,e),e}function l(t){var e=document.createElement("link");return e.rel="stylesheet",i(t,e),e}function u(t,e){var n,r,o;if(e.singleton){var i=y++;n=_||(_=s(e)),r=c.bind(null,n,i,!1),o=c.bind(null,n,i,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(e),r=p.bind(null,n),o=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),r=f.bind(null,n),o=function(){a(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}function c(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=k(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function f(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e){var n=e.css,r=e.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),i=t.href;t.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var d={},h=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},m=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),v=h(function(){return document.head||document.getElementsByTagName("head")[0]}),_=null,y=0,g=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=m()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=o(t);return r(n,e),function(t){for(var i=[],a=0;a<n.length;a++){var s=n[a],l=d[s.id];l.refs--,i.push(l)}if(t){var u=o(t);r(u,e)}for(var a=0;a<i.length;a++){var l=i[a];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete d[l.id]}}}};var k=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){var r=n(21);"string"==typeof r&&(r=[[t.id,r,""]]);n(22)(r,{});r.locals&&(t.exports=r.locals)}])});